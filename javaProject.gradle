apply plugin: 'java'
apply plugin: "net.ltgt.apt-eclipse"
apply plugin: "net.ltgt.apt-idea"
apply plugin: "net.ltgt.apt"

ext {
    if (project.hasProperty('javaVersion')) {
        jdkVersion = project['javaVersion']
    }
}

compileJava {
    sourceCompatibility = jdkVersion
    targetCompatibility = jdkVersion
}

compileTestJava {
    sourceCompatibility = jdkVersion
    targetCompatibility = jdkVersion
}

configurations {
    providedRuntime
    all*.exclude group: "org.springframework.boot", module: "spring-boot-starter-tomcat"
    all*.exclude module: "slf4j-log4j12"

    dependencies {
        compile 'org.slf4j:slf4j-api'

        runtime 'ch.qos.logback:logback-classic'

        compileOnly 'org.projectlombok:lombok:1.18.2'

        testCompile 'junit:junit'
        testCompile 'org.assertj:assertj-core'

        testCompileOnly 'org.projectlombok:lombok:1.18.2'

    }
}

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

eclipse.classpath.downloadSources = true
